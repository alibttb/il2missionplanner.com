(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports=function(){const SECONDS_IN_HOUR=3600,BORDER=5;return{distance:function(a,b){var dLng=b.lng-a.lng;var dLat=b.lat-a.lat;return Math.sqrt(dLng*dLng+dLat*dLat)},geometricDegreesToGeographic:function(degrees){if(degrees<0){degrees+=360}return(450-degrees)%360},heading:function(a,b){var radians=Math.atan2(b.lat-a.lat,b.lng-a.lng);var degrees=radians*180/Math.PI;degrees=this.geometricDegreesToGeographic(degrees);return degrees},midpoint:function(a,b){var lat=(a.lat+b.lat)/2;var lng=(a.lng+b.lng)/2;return L.latLng(lat,lng)},pad:function(num,size){var s=Math.floor(num).toFixed(0);while(s.length<size){s="0"+s}return s},time:function(speed,distance){var kmPerSecond=speed/SECONDS_IN_HOUR;return distance/kmPerSecond},maxBounds:function(mapConfig){return[[mapConfig.latMin-BORDER,mapConfig.lngMin-BORDER],[mapConfig.latMax+BORDER,mapConfig.lngMax+BORDER]]},center:function(mapConfig){return[mapConfig.latMax/2,mapConfig.lngMax/2]},gridLatLng:function(grid,mapConfig){var width=mapConfig.lngMax-mapConfig.lngMin;var height=mapConfig.latMax-mapConfig.latMin;var gridWidth=width/mapConfig.lngGridMax;var gridHeight=height/mapConfig.latGridMax;var gridSideLength=(gridWidth+gridHeight)/2;var gridLat=parseInt(grid.substring(0,2));var gridLng=parseInt(grid.substring(2,4));var halfSideLength=gridSideLength/2;var lat=mapConfig.latMax-gridLat*gridSideLength;var lng=gridLng*gridSideLength;return[lat,lng]}}}()},{}],2:[function(require,module,exports){module.exports=function(){var augmentedLeafletDrawLocal={draw:{toolbar:{actions:{title:"Cancel",text:"Cancel"},finish:{title:"Finish",text:"Finish"},undo:{title:"Delete last point",text:"Delete last point"},buttons:{polyline:"Map a flight",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Mark a target"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle"},radius:"Radius"},marker:{tooltip:{start:"Click to mark a target"}},polygon:{tooltip:{start:"Click to start drawing shape",cont:"Click to continue drawing shape",end:"Click first point to close this shape"}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start a flight plan",cont:"Click to continue the flight plan",end:"Click last point to finish flight plan"}},rectangle:{tooltip:{start:"Click and drag to draw rectangle"}},simpleshape:{tooltip:{end:"Release mouse to finish drawing"}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discard all changes",text:"Cancel"}},buttons:{edit:"Edit map",editDisabled:"Nothing to edit",remove:"Delete items from the map",removeDisabled:"Nothing to delete"}},handlers:{edit:{tooltip:{text:"Drag items to edit the map",subtext:null}},remove:{tooltip:{text:"Click to delete items from the map"}}}}};var mapConfigs={stalingrad:{fullName:"Stalingrad",name:"stalingrad",hash:"#stalingrad",selectIndex:0,scale:1.40056,latMin:0,latMax:164,latGridMax:23,lngMin:0,lngMax:252,lngGridMax:37,gridHopZoom:5,tileUrl:"http://tiles.il2missionplanner.com/stalingrad/{z}/{x}/{y}.png"},moscow:{fullName:"Moscow",name:"moscow",hash:"#moscow",selectIndex:1,scale:1.46621,latMin:0,latMax:192,latGridMax:29,lngMin:0,lngMax:192,lngGridMax:29,gridHopZoom:5,tileUrl:"http://tiles.il2missionplanner.com/moscow/{z}/{x}/{y}.png"},luki:{fullName:"Velikie Luki",name:"luki",hash:"#luki",selectIndex:2,scale:.65306,latMin:0,latMax:160,latGridMax:10.4,lngMin:0,lngMax:224,lngGridMax:16.6,gridHopZoom:4,tileUrl:"http://tiles.il2missionplanner.com/luki/{z}/{x}/{y}.png"}};return{augmentedLeafletDrawLocal:augmentedLeafletDrawLocal,maps:mapConfigs,titleText:"Il-2 Mission Planner!",helpTooltip:"How to use this tool",clearTooltip:"Clear the map",mapSelectTooltip:"Select game map",exportTooltip:"Export mission plan",importTooltip:"Import mission plan",gridHopTooltip:"Jump to grid",missionHopTooltip:"Jump to mission",flightModalTemplate:'<div id="flight-modal">                 <h2>Configure flight</h2>                 <form onsubmit="return false;">                     <div class="modal-item">                         <label class="modal-item-label" for="flight-name">Flight name</label>                         <input id="flight-name" class="modal-item-input" value="{name}" placeholder="name"></input>                     </div>                     <div class="modal-item">                         <label class="modal-item-label" for="flight-speed">Average speed</label>                         <input id="flight-speed" class="modal-item-input" value="{speed}"></input>                     </div>                     <button class="{okCls}" type="button">{okText}</button>                 </form>             </div>',flightLegModalTemplate:'<div id="flight-leg-modal">                 <h2>Configure flight leg</h2>                 <form onsubmit="return false;">                     <div class="modal-item">                         <label class="modal-item-label" for="flight-speed">Speed</label>                         <input id="flight-leg-speed" class="modal-item-input" value="{speed}"></input>                     </div>                     <button class="{okCls}" type="button">{okText}</button>                 </form>             </div>',confirmClearTemplate:'<div id="confirm-clear-modal">                 <h2>Clear the map</h2>                 <p>Are you sure? This action cannot be undone.</p>                 <button class="{okCls}">{okText}</button>                 <button class="{cancelCls}">{cancelText}</button>             </div>',helpTemplate:'<div id="help-modal">                 <h2>How to</h2>                 <img class="modal-image" src="img/help.png" height="480"></img>             </div>',targetModalTemplate:'<div id="target-modal">                 <h2>Configure target</h2>                 <form onsubmit="return false;">                     <div class="modal-item">                         <label class="modal-item-label" for="target-name">Target name</label>                         <input id="target-name" class="modal-item-input" value="{name}" placeholder="name"></input>                     </div>                     <div class="modal-item">                         <label class="modal-item-label" for="target-notes">Notes</label>                         <textarea id="target-notes" class="modal-item-text" value="{notes}">{notes}</textarea>                     </div>                     <button class="{okCls}" type="button">{okText}</button>                 </form>             </div>',mapSelectTemplate:'<div id="help-modal">                 <h2>Change map</h2>                 <form>                     <select id="map-select">                         <option value="stalingrad">Stalingrad</option>                         <option value="moscow">Moscow</option>                         <option value="luki">Velikie Luki</option>                     </select>                     <button class="{okCls}" type="button">{okText}</button>                 </form>             </div>',importTemplate:'<div id="import-modal">                 <h2>Import Mission Plan</h2>                 <input id="import-file" type="file" name="importFile"></input>                <button class="{okCls}">{okText}</button>                 <button class="{cancelCls}">{cancelText}</button>             </div>',gridHopTemplate:'<div id="gridhop-modal">                 <h2>Jump to grid</h2>                 <form onsubmit="return false;">                     <div class="modal-item">                         <label class="modal-item-label" for="grid-input">Grid</label>                         <input id="grid-input" class="modal-item-input" placeholder="0000" maxlength="4"></input>                     </div>                     <button class="{okCls}" type="button">{okText}</button>                     <button class="{cancelCls}" type="button">{cancelText}</button>                 </form>             </div>'}}()},{}],3:[function(require,module,exports){(function(){var content=require("./content.js");L.Control.TitleControl=L.Control.extend({options:{position:"topright"},onAdd:function(e){L.DomEvent.stop(e);var container=L.DomUtil.create("div","title-control");L.DomEvent.disableClickPropagation(container);container.innerHTML=content.titleText;return container}});L.Control.CustomButton=L.Control.extend({options:{position:"bottomleft"},initialize:function(options){L.Control.prototype.initialize.call(this,options)},onAdd:function(e){L.DomEvent.stop(e);var container=L.DomUtil.create("div","leaflet-bar");L.DomEvent.disableClickPropagation(container);var link=L.DomUtil.create("a","fa "+this.options.icon,container);container.title=this.options.tooltip;link.id=this.options.id;link.addEventListener("click",this.options.clickFn);return container}})})()},{"./content.js":2}],4:[function(require,module,exports){module.exports=function(leaflet){return{factory:function(){return leaflet.icon({iconUrl:"img/explosion.png",iconSize:[30,30],iconAnchor:[15,25]})},textIconFactory:function(text,classes){return leaflet.divIcon({className:classes,html:text,iconSize:[200,0]})}}}},{}],5:[function(require,module,exports){(function(){var content=require("./content.js");var calc=require("./calc.js");var util=require("./util.js");var icons=require("./icons.js")(L);require("./controls.js");const SAVE_HEADER="data:text/json;charset=utf-8,",RED="#ff0000",DEFAULT_SPEED=300,FLIGHT_OPACITY=.8,LINE_OPTIONS={color:RED,weight:2,opacity:FLIGHT_OPACITY};var map,mapTiles,mapConfig,drawnItems,hiddenLayers;var mapConfig=util.getSelectedMapConfig(window.location.hash,content.maps);var selectedMapIndex=mapConfig.selectIndex;L.PolylineDecorator.include(L.Mixin.Events);L.drawLocal=content.augmentedLeafletDrawLocal;function newFlightDecorator(route){return L.polylineDecorator(route,{patterns:[{offset:6,repeat:300,symbol:L.Symbol.arrowHead({pathOptions:{opacity:0,fillOpacity:FLIGHT_OPACITY,color:RED}})}]})}function applyCustomFlightLeg(marker){var parentRoute=drawnItems.getLayer(marker.parentId);map.openModal({okCls:"modal-ok",okText:"Done",speed:parentRoute.speeds[marker.index],template:content.flightLegModalTemplate,zIndex:1e4,onShow:function(e){L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){e.modal.hide()})},onHide:function(e){var newSpeed=parseInt(document.getElementById("flight-leg-speed").value);parentRoute.speeds[marker.index]=newSpeed;marker.options.speed=newSpeed;applyCustomFlightLegCallback(marker)}})}function applyCustomFlightLegCallback(marker){marker.options.time=util.formatTime(calc.time(marker.options.speed,marker.options.distance));var newContent=util.formatFlightLegMarker(marker.options.distance,marker.options.heading,marker.options.speed,marker.options.time);marker.setIcon(icons.textIconFactory(newContent,"flight-leg map-text"))}function applyFlightPlanCallback(route){var id=route._leaflet_id;var coords=route.getLatLngs();var decorator=newFlightDecorator(route);decorator.parentId=id;decorator.addTo(map);if(typeof route.speeds==="undefined"||route.speedDirty||route.wasEdited){route.speeds=util.defaultSpeedArray(route.speed,coords.length-1)}function markerClickHandlerFactory(clickedMarker){return function(){applyCustomFlightLeg(clickedMarker)}}for(var i=0;i<coords.length-1;i++){var distance=mapConfig.scale*calc.distance(coords[i],coords[i+1]);var heading=calc.heading(coords[i],coords[i+1]);var midpoint=calc.midpoint(coords[i],coords[i+1]);var time=util.formatTime(calc.time(route.speeds[i],distance));var markerContent=util.formatFlightLegMarker(distance,heading,route.speeds[i],time);var marker=L.marker(midpoint,{distance:distance,heading:heading,time:time,speed:route.speeds[i],icon:icons.textIconFactory(markerContent,"flight-leg map-text")});marker.parentId=id;marker.index=i;marker.on("click",markerClickHandlerFactory(marker));marker.addTo(map)}var endMarker=L.circleMarker(coords[coords.length-1],{clickable:false,radius:3,color:RED,fillColor:RED,opacity:FLIGHT_OPACITY,fillOpacity:FLIGHT_OPACITY});endMarker.parentId=id;endMarker.addTo(map);var nameCoords=L.latLng(coords[0].lat,coords[0].lng);var nameMarker=L.marker(nameCoords,{draggable:false,icon:icons.textIconFactory(route.name,"map-title flight-title map-text")});nameMarker.parentId=id;nameMarker.on("click",function(){deleteAssociatedLayers(L.layerGroup([route]));applyFlightPlan(route)});nameMarker.addTo(map)}function applyFlightPlan(route){if(typeof route.speed==="undefined"){route.speed=DEFAULT_SPEED}if(typeof route.name==="undefined"){route.name="New Flight"}var initialSpeed=route.speed;map.openModal({okCls:"modal-ok",okText:"Done",speed:route.speed,name:route.name,template:content.flightModalTemplate,zIndex:1e4,onShow:function(e){L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){e.modal.hide()})},onHide:function(e){route.name=document.getElementById("flight-name").value;route.speed=parseInt(document.getElementById("flight-speed").value);route.speedDirty=route.speed!==initialSpeed;applyFlightPlanCallback(route)}})}function applyTargetInfoCallback(target){var id=target._leaflet_id;var coords=target.getLatLng();var nameCoords=L.latLng(coords.lat,coords.lng);var nameMarker=L.marker(nameCoords,{draggable:false,icon:icons.textIconFactory(target.name,"map-title target-title map-text")});nameMarker.parentId=id;nameMarker.on("click",function(){deleteAssociatedLayers(L.layerGroup([target]));applyTargetInfo(target)});nameMarker.addTo(map);if(target.notes!==""){target.bindLabel(target.notes,{direction:"left"}).addTo(map)}}function applyTargetInfo(target){if(typeof target.name==="undefined"){target.name="New Target"}if(typeof target.notes==="undefined"){target.notes=""}map.openModal({okCls:"modal-ok",okText:"Done",name:target.name,notes:target.notes,template:content.targetModalTemplate,zIndex:1e4,onShow:function(e){e.modal.target=target;L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){e.modal.hide()})},onHide:function(e){e.modal.target.name=document.getElementById("target-name").value;e.modal.target.notes=document.getElementById("target-notes").value;applyTargetInfoCallback(e.modal.target)}})}function deleteAssociatedLayers(parentLayers){var toDelete=[];parentLayers.eachLayer(function(layer){toDelete.push(layer._leaflet_id)});map.eachLayer(function(layer){if(toDelete.indexOf(layer.parentId)!==-1){map.removeLayer(layer)}});hiddenLayers.eachLayer(function(layer){if(toDelete.indexOf(layer.parentId)!==-1){hiddenLayers.removeLayer(layer)}})}function transferChildLayers(from,to){from.eachLayer(function(layer){if(typeof layer.parentId!=="undefined"){from.removeLayer(layer);to.addLayer(layer)}})}function showChildLayers(){transferChildLayers(hiddenLayers,map)}function hideChildLayers(){transferChildLayers(map,hiddenLayers)}function checkClearButtonDisabled(){var element=document.getElementById("clear-button");if(drawnItems.getLayers().length===0){element.classList.add("leaflet-disabled")}else{element.classList.remove("leaflet-disabled")}}function clearMap(){drawnItems.clearLayers();hideChildLayers();hiddenLayers.clearLayers()}function exportMapState(){var saveData={mapHash:window.location.hash,routes:[],points:[]};drawnItems.eachLayer(function(layer){var saveLayer={};if(util.isLine(layer)){saveLayer.latLngs=layer.getLatLngs();saveLayer.name=layer.name;saveLayer.speed=layer.speed;saveLayer.speeds=layer.speeds;saveData.routes.push(saveLayer)}else if(util.isMarker(layer)){saveLayer.latLng=layer.getLatLng();saveLayer.name=layer.name;saveLayer.notes=layer.notes;saveData.points.push(saveLayer)}});return saveData}map=L.map("map",{crs:L.CRS.Simple,attributionControl:false});mapTiles=L.tileLayer(mapConfig.tileUrl,{minZoom:2,maxZoom:6,noWrap:true,tms:true,continuousWorld:true}).addTo(map);map.setView(calc.center(mapConfig),3);map.setMaxBounds(calc.maxBounds(mapConfig));drawnItems=L.featureGroup();map.addLayer(drawnItems);hiddenLayers=L.featureGroup();var mapSelectButton=new L.Control.CustomButton({position:"topleft",id:"map-select-button",icon:"fa-map",tooltip:content.mapSelectTooltip,clickFn:function(){map.openModal({template:content.mapSelectTemplate,okCls:"modal-ok",okText:"Okay",onShow:function(e){var selectElement=document.getElementById("map-select");selectElement.selectedIndex=selectedMapIndex;L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){selectedMapIndex=selectElement.selectedIndex;var selectedMap=selectElement.options[selectedMapIndex].value;mapConfig=content.maps[selectedMap];window.location.hash=mapConfig.hash;deleteAssociatedLayers(drawnItems);drawnItems.clearLayers();hiddenLayers.clearLayers();mapTiles.setUrl(mapConfig.tileUrl);map.setMaxBounds(calc.maxBounds(mapConfig));map.setView(calc.center(mapConfig),3);mapTiles.redraw();mapTiles.addTo(map);e.modal.hide()})}})}});map.addControl(mapSelectButton);var drawControl=new L.Control.Draw({draw:{polygon:false,rectangle:false,circle:false,polyline:{showLength:false,shapeOptions:LINE_OPTIONS},marker:{icon:icons.factory()}},edit:{featureGroup:drawnItems,edit:L.Browser.touch?false:{selectedPathOptions:{maintainColor:true,opacity:.4}}}});map.addControl(drawControl);var titleControl=new L.Control.TitleControl({});map.addControl(titleControl);var clearButton=new L.Control.CustomButton({id:"clear-button",icon:"fa-trash",tooltip:content.clearTooltip,clickFn:function(){if(drawnItems.getLayers().length!==0){map.openModal({template:content.confirmClearTemplate,okCls:"modal-ok",okText:"Yes",cancelCls:"modal-cancel",cancelText:"No",onShow:function(e){L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){clearMap();e.modal.hide();checkClearButtonDisabled()}).on(e.modal._container.querySelector(".modal-cancel"),"click",function(){e.modal.hide()})}})}}});map.addControl(clearButton);var helpButton=new L.Control.CustomButton({position:"bottomright",id:"help-button",icon:"fa-question",tooltip:content.helpTooltip,clickFn:function(){map.openModal({template:content.helpTemplate,cancelCls:"modal-cancel",cancelText:"Close",onShow:function(e){L.DomEvent.on(e.modal._container.querySelector(".modal-cancel"),"click",function(){e.modal.hide()})}})}});map.addControl(helpButton);var exportButton=new L.Control.CustomButton({position:"bottomright",id:"export-button",icon:"fa-download",tooltip:content.exportTooltip,clickFn:function(){var saveData=exportMapState();var escapedData=window.escape(JSON.stringify(saveData));var formattedData=SAVE_HEADER+escapedData;window.open(formattedData)}});map.addControl(exportButton);var importButton=new L.Control.CustomButton({position:"bottomright",id:"import-button",icon:"fa-upload",tooltip:content.importTooltip,clickFn:function(){map.openModal({template:content.importTemplate,okCls:"modal-ok",okText:"Import",cancelCls:"modal-cancel",cancelText:"Cancel",onShow:function(e){var importInput=document.getElementById("import-file");var fileContent;L.DomEvent.on(importInput,"change",function(evt){var reader=new window.FileReader;reader.onload=function(evt){if(evt.target.readyState!==2){return}if(evt.target.error){window.alert("Error while reading file");return}fileContent=evt.target.result};reader.readAsText(evt.target.files[0])});L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){clearMap();var saveData=JSON.parse(fileContent);for(var i=0;i<saveData.routes.length;i++){var route=saveData.routes[i];var newRoute=L.polyline(route.latLngs,LINE_OPTIONS);newRoute.name=route.name;newRoute.speed=route.speed;newRoute.speeds=route.speeds;drawnItems.addLayer(newRoute);applyFlightPlanCallback(newRoute)}for(var i=0;i<saveData.points.length;i++){var point=saveData.points[i];var newPoint=L.marker(point.latLng,{icon:icons.factory()});newPoint.name=point.name;newPoint.notes=point.notes;drawnItems.addLayer(newPoint);applyTargetInfoCallback(newPoint)}checkClearButtonDisabled();e.modal.hide()});L.DomEvent.on(e.modal._container.querySelector(".modal-cancel"),"click",function(){e.modal.hide()})}})}});map.addControl(importButton);var gridHopButton=new L.Control.CustomButton({position:"topleft",id:"gridhop-button",icon:"fa-th-large",tooltip:content.gridHopTooltip,clickFn:function(){map.openModal({template:content.gridHopTemplate,okCls:"modal-ok",okText:"Go",cancelCls:"modal-cancel",cancelText:"Cancel",onShow:function(e){L.DomEvent.on(e.modal._container.querySelector(".modal-ok"),"click",function(){var grid=document.getElementById("grid-input").value;var viewLatLng=calc.gridLatLng(grid,mapConfig);map.setView(viewLatLng,mapConfig.gridHopZoom);e.modal.hide()});L.DomEvent.on(e.modal._container.querySelector(".modal-cancel"),"click",function(){e.modal.hide()})}})}});map.addControl(gridHopButton);var missionHopButton=new L.Control.CustomButton({position:"topleft",id:"missionhop-button",icon:"fa-crop",tooltip:content.missionHopTooltip,clickFn:function(){map.fitBounds(drawnItems.getBounds())}});map.addControl(missionHopButton);map.on("draw:created",function(e){drawnItems.addLayer(e.layer);if(e.layerType==="polyline"){applyFlightPlan(e.layer)}else if(e.layerType==="marker"){applyTargetInfo(e.layer)}checkClearButtonDisabled()});map.on("draw:deleted",function(e){deleteAssociatedLayers(e.layers);checkClearButtonDisabled()});map.on("draw:edited",function(e){deleteAssociatedLayers(e.layers);e.layers.eachLayer(function(layer){if(util.isLine(layer)){layer.wasEdited=layer.getLatLngs().length-1!==layer.speeds.length;applyFlightPlanCallback(layer)}else if(util.isMarker(layer)){applyTargetInfoCallback(layer)}})});map.on("draw:editstart",function(){hideChildLayers()});map.on("draw:editstop",function(){showChildLayers()});map.on("draw:deletestart",function(){hideChildLayers()});map.on("draw:deletestop",function(){showChildLayers()});checkClearButtonDisabled()})()},{"./calc.js":1,"./content.js":2,"./controls.js":3,"./icons.js":4,"./util.js":6}],6:[function(require,module,exports){module.exports=function(){var calc=require("./calc.js");function getFirstAttribute(obj){return obj[Object.keys(obj)[0]]}return{formatTime:function(timeInSeconds){var minutes=timeInSeconds/60;var seconds=timeInSeconds%60;return Math.floor(minutes).toFixed(0)+":"+calc.pad(seconds,2)},getSelectedMapConfig:function(hash,maps){for(var map in maps){if(maps[map].hash===hash){return maps[map]}}return getFirstAttribute(maps)},defaultSpeedArray:function(speed,count){var speedArray=[];for(var i=0;i<count;i++){speedArray.push(speed)}return speedArray},formatFlightLegMarker:function(distance,heading,speed,time){distance=typeof distance==="number"?distance.toFixed(1):distance;heading=typeof heading==="number"?heading.toFixed(0):heading;return"["+distance+"km|"+calc.pad(heading,3)+"&deg;|"+speed+"kph|"+time+"]"},isLine:function(layer){return typeof layer.getLatLngs!=="undefined"},isMarker:function(layer){return typeof layer.getLatLng!=="undefined"}}}()},{"./calc.js":1}]},{},[5]);